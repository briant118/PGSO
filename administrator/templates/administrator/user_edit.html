{% extends 'base.html' %}

{% block title %}Edit user – {{ target_user.username }} – PGSO{% endblock %}

{% block content %}
<style>
.page-header { margin-bottom: 2rem; }
.page-title { margin: 0 0 0.5rem; font-size: 2rem; color: #1a1d24; font-weight: 700; display: flex; align-items: center; gap: 0.75rem; }
.page-subtitle { margin: 0; color: #5f6368; font-size: 0.95rem; }
.card-container { background: #fff; border-radius: 12px; box-shadow: 0 4px 16px rgba(0,0,0,0.08); overflow: hidden; max-width: 520px; }
.card-header { padding: 1.5rem; border-bottom: 1px solid #e8eaed; }
.card-header h2 { margin: 0; font-size: 1.25rem; color: #1a1d24; }
.form-body { padding: 1.5rem; }
.form-group { margin-bottom: 1.25rem; }
.form-group label { display: block; font-weight: 600; color: #1a1d24; margin-bottom: 0.4rem; font-size: 0.95rem; }
.form-group input[type="text"] { width: 100%; max-width: 320px; padding: 0.6rem 0.75rem; border: 1px solid #e0e0e0; border-radius: 8px; font-size: 1rem; }
.form-group .hint { font-size: 0.85rem; color: #5f6368; margin-top: 0.35rem; }
.form-actions { padding: 1rem 1.5rem; border-top: 1px solid #e8eaed; display: flex; gap: 0.75rem; }
.btn { padding: 0.6rem 1.25rem; border-radius: 8px; font-size: 0.95rem; font-weight: 600; cursor: pointer; text-decoration: none; border: none; display: inline-flex; align-items: center; gap: 0.5rem; }
.btn-primary { background: linear-gradient(135deg, #1e3a5f 0%, #152a45 100%); color: #fff; }
.btn-secondary { background: #e8eaed; color: #1a1d24; }
</style>

<div class="page-header">
  <div>
    <h1 class="page-title"><i class="fas fa-user-edit" style="color: #4299e1;"></i> Edit user</h1>
    <p class="page-subtitle">Edit username and full name (Staff only).</p>
  </div>
  <a href="{% url 'administrator:user_accounts' %}" class="btn btn-secondary">Back to User Accounts</a>
</div>

<div class="card-container">
  <div class="card-header"><h2>{{ target_user.username }}</h2></div>
  <form method="post" action="{% url 'administrator:user_edit' target_user.pk %}">
    {% csrf_token %}
    <div class="form-body">
      <div class="form-group">
        <label for="id_username">Username <span style="color:#dc3545;">*</span></label>
        <input type="text" name="username" id="id_username" required value="{{ target_user.username }}" placeholder="Login username">
      </div>
      <div class="form-group">
        <label for="id_first_name">First name</label>
        <input type="text" name="first_name" id="id_first_name" value="{{ target_user.first_name|default:'' }}" placeholder="First name">
      </div>
      <div class="form-group">
        <label for="id_last_name">Last name</label>
        <input type="text" name="last_name" id="id_last_name" value="{{ target_user.last_name|default:'' }}" placeholder="Last name">
      </div>
      <div class="form-group"><div class="hint">Full name is shown as First name + Last name.</div></div>
    </div>
    <div class="form-actions">
      <button type="submit" class="btn btn-primary"><i class="fas fa-save"></i> Save</button>
      <a href="{% url 'administrator:user_accounts' %}" class="btn btn-secondary">Cancel</a>
    </div>
  </form>
</div>
{% endblock %}
