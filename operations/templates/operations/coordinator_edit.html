{% extends 'base.html' %}
{% block title %}Edit Coordinator – Operations – PGSO{% endblock %}
{% block content %}
<div class="page-header">
  <h1 class="page-title"><i class="fas fa-user-edit" style="color: #4299e1;"></i> Edit Coordinator</h1>
  <a href="{% url 'operations:coordinator' %}" class="btn btn-secondary"><i class="fas fa-arrow-left"></i> Back to Coordinator</a>
</div>
<form method="post" action="{% url 'operations:coordinator_edit' coordinator.pk %}">
  {% csrf_token %}
  <div class="form-row cols-2">
    <div class="form-group">
      <label for="id_barangay">Barangay <span style="color:#dc3545;">*</span></label>
      <select id="id_barangay" name="barangay" required>
        {% for b in barangays %}
        <option value="{{ b.id }}" {% if coordinator.barangay_id == b.id %}selected{% endif %}>{{ b.name }}</option>
        {% endfor %}
      </select>
    </div>
    <div class="form-group">
      <label for="id_fullname">Fullname <span style="color:#dc3545;">*</span></label>
      <input type="text" id="id_fullname" name="fullname" value="{{ coordinator.fullname }}" required>
    </div>
  </div>
  <div class="form-row cols-2">
    <div class="form-group">
      <label for="id_position">Position <span style="color:#dc3545;">*</span></label>
      <select id="id_position" name="position" required>
        {% for p in coordinator_positions %}
        <option value="{{ p.id }}" {% if coordinator.position_id == p.id %}selected{% endif %}>{{ p.name }}</option>
        {% endfor %}
      </select>
    </div>
    <div class="form-group">
      <label for="id_contact_no">Contact No. <span style="color:#dc3545;">*</span></label>
      <input type="text" id="id_contact_no" name="contact_no" value="{{ coordinator.contact_no|default:'' }}" required>
    </div>
  </div>
  <div class="form-group">
    <label for="id_remarks">Remarks</label>
    <textarea id="id_remarks" name="remarks">{{ coordinator.remarks|default:'' }}</textarea>
  </div>
  <div class="form-row cols-2">
    <div class="form-group">
      <label for="id_date_start">Date Start</label>
      <input type="date" id="id_date_start" name="date_start" value="{{ coordinator.date_start|date:'Y-m-d'|default:'' }}">
    </div>
    <div class="form-group">
      <label>Active?</label>
      <label class="checkbox-label">
        <input type="checkbox" name="is_active" {% if coordinator.is_active %}checked{% endif %}> Active
      </label>
    </div>
  </div>
  <div class="form-actions">
    <button type="submit" class="btn btn-submit"><i class="fas fa-save"></i> Save</button>
    <a href="{% url 'operations:coordinator' %}" class="btn btn-cancel">Cancel</a>
  </div>
</form>
{% endblock %}
